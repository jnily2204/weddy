<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K·∫ø Ho·∫°ch & Chi Ph√≠ C∆∞·ªõi H·ªèi T·∫°i Vi·ªát Nam</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    
    <!-- Palette: Vibrant Wedding (Pink/Purple/Gold/Blue) -->
    <!-- 
        Palette Name: Vibrant Romance
        Primary: #E91E63 (Vibrant Pink)
        Secondary: #9C27B0 (Deep Purple)
        Accent: #FFC107 (Golden Amber)
        Neutral: #F3F4F6 (Light Gray)
        Dark: #1F2937 (Dark Gray)
    -->
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #FDF2F8; /* Light Pink tint */
            color: #1F2937;
        }
        h1, h2, h3 {
            font-family: 'Playfair Display', serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        /* Timeline styling */
        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background-color: #E91E63;
            transform: translateX(-50%);
        }
        .timeline-card {
            position: relative;
            width: 45%;
        }
        .timeline-dot {
            position: absolute;
            top: 20px;
            left: 50%;
            width: 20px;
            height: 20px;
            background-color: #FFC107;
            border: 4px solid #E91E63;
            border-radius: 50%;
            transform: translateX(-50%);
            z-index: 10;
        }
        /* Hide timeline line on mobile and adjust layout */
        @media (max-width: 768px) {
            .timeline-line { left: 20px; }
            .timeline-card { width: 100%; padding-left: 50px; margin-bottom: 2rem; }
            .timeline-dot { left: 20px; }
            .timeline-left, .timeline-right { left: 0; }
        }
    </style>
    <!-- 
        Analysis of Source Material & Narrative Plan:
        1.  Subject: Organizing a wedding in Vietnam requires 9-12 months of preparation.
        2.  Key Data: 
            - Average total cost: 350M - 500M VND.
            - Banquet is the largest cost (50-60%).
            - Timeline involves: D·∫°m ng√µ -> ƒÇn h·ªèi -> R∆∞·ªõc d√¢u -> Ti·ªác.
        3.  Narrative Flow:
            - Intro: The Big Number (Total Budget).
            - Composition: Where does the money go? (Donut Chart).
            - Timeline: What to do and when? (Vertical List).
            - Specifics: Costs of individual items (Bar Chart).
            - Cash Flow: When to pay? (Line Chart).
            - Conclusion: Summary tips.
        4.  Visualizations selected based on "Infographic Chart Selection Guide" (NO SVG):
            - Donut Chart (Chart.js): Comparison of parts to whole (Budget).
            - Vertical HTML Layout: Process/Timeline.
            - Horizontal Bar Chart (Chart.js): Comparing many categories with long names.
            - Line Chart (Chart.js): Change over time (Cash flow).
    -->
</head>
<body class="bg-pink-50">

    <!-- Header Section -->
    <header class="bg-gradient-to-r from-pink-600 to-purple-700 text-white py-12 px-4 shadow-lg">
        <div class="max-w-6xl mx-auto text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-4">H√†nh Tr√¨nh H·∫°nh Ph√∫c</h1>
            <h2 class="text-xl md:text-2xl font-light mb-8">K·∫ø Ho·∫°ch & Chi Ph√≠ Cho ƒê√°m C∆∞·ªõi T·∫°i Vi·ªát Nam</h2>
            <p class="max-w-2xl mx-auto text-pink-100 text-lg">
                T·ªïng h·ª£p chi ti·∫øt c√°c ƒë·∫ßu vi·ªác c·∫ßn chu·∫©n b·ªã t·ª´ 12 th√°ng tr∆∞·ªõc ng√†y c∆∞·ªõi v√† ph√¢n t√≠ch chi ph√≠ trung b√¨nh ƒë·ªÉ gi√∫p c√°c c·∫∑p ƒë√¥i Vi·ªát qu·∫£n l√Ω ng√¢n s√°ch hi·ªáu qu·∫£.
            </p>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-8 space-y-12">

        <!-- SECTION 1: The Big Picture (KPIs) -->
        <section class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- KPI Card 1 -->
            <div class="bg-white rounded-xl shadow-md p-6 border-t-4 border-pink-500 text-center transform transition hover:scale-105 duration-300">
                <h3 class="text-gray-500 font-medium uppercase tracking-wider text-sm">T·ªïng Ng√¢n S√°ch Trung B√¨nh</h3>
                <p class="text-4xl font-bold text-pink-600 mt-2">450 Tri·ªáu</p>
                <p class="text-sm text-gray-400 mt-1">VND (T·∫°i c√°c th√†nh ph·ªë l·ªõn)</p>
            </div>
            <!-- KPI Card 2 -->
            <div class="bg-white rounded-xl shadow-md p-6 border-t-4 border-purple-500 text-center transform transition hover:scale-105 duration-300">
                <h3 class="text-gray-500 font-medium uppercase tracking-wider text-sm">Th·ªùi Gian Chu·∫©n B·ªã</h3>
                <p class="text-4xl font-bold text-purple-600 mt-2">9 - 12</p>
                <p class="text-sm text-gray-400 mt-1">Th√°ng tr∆∞·ªõc ng√†y c∆∞·ªõi</p>
            </div>
            <!-- KPI Card 3 -->
            <div class="bg-white rounded-xl shadow-md p-6 border-t-4 border-yellow-500 text-center transform transition hover:scale-105 duration-300">
                <h3 class="text-gray-500 font-medium uppercase tracking-wider text-sm">Kh√°ch M·ªùi Trung B√¨nh</h3>
                <p class="text-4xl font-bold text-yellow-500 mt-2">300 - 400</p>
                <p class="text-sm text-gray-400 mt-1">Kh√°ch (30 - 40 b√†n)</p>
            </div>
        </section>

        <!-- SECTION 2: Budget Breakdown (Donut Chart) -->
        <section class="bg-white rounded-xl shadow-md p-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                <div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-4 border-l-4 border-pink-500 pl-4">Ph√¢n B·ªï Ng√¢n S√°ch</h2>
                    <p class="text-gray-600 mb-4 text-lg leading-relaxed">
                        Trong m·ªôt ƒë√°m c∆∞·ªõi ƒëi·ªÉn h√¨nh t·∫°i Vi·ªát Nam, <strong class="text-pink-600">Nh√† h√†ng & Ti·ªác c∆∞·ªõi</strong> lu√¥n chi·∫øm ph·∫ßn l·ªõn ng√¢n s√°ch (kho·∫£ng 50-60%). ƒê√¢y l√† kho·∫£n chi ph√≠ bi·∫øn ƒë·ªïi d·ª±a tr√™n s·ªë l∆∞·ª£ng kh√°ch m·ªùi. C√°c kho·∫£n chi c·ªë ƒë·ªãnh nh∆∞ trang tr√≠, quay phim ch·ª•p ·∫£nh, v√† trang ph·ª•c chi·∫øm ph·∫ßn c√≤n l·∫°i.
                    </p>
                    <ul class="space-y-2 mb-6 text-gray-700">
                        <li class="flex items-center"><span class="text-2xl mr-2 text-pink-500">‚ùñ</span> <strong>Ti·ªác C∆∞·ªõi:</strong> Bao g·ªìm th·ª±c ƒë∆°n, ƒë·ªì u·ªëng v√† ph√≠ ph·ª•c v·ª•.</li>
                        <li class="flex items-center"><span class="text-2xl mr-2 text-purple-500">‚ùñ</span> <strong>Trang Tr√≠:</strong> Gia ti√™n, r·∫°p c∆∞·ªõi, backdrop v√† hoa t∆∞∆°i.</li>
                        <li class="flex items-center"><span class="text-2xl mr-2 text-blue-500">‚ùñ</span> <strong>H√¨nh ·∫¢nh:</strong> Pre-wedding, ph√≥ng s·ª± c∆∞·ªõi v√† quay phim.</li>
                    </ul>
                </div>
                <!-- Chart Container -->
                <div class="flex flex-col items-center">
                    <div class="chart-container">
                        <canvas id="budgetDonutChart"></canvas>
                    </div>
                    <p class="text-center text-sm text-gray-500 mt-4 italic">Bi·ªÉu ƒë·ªì ph√¢n b·ªï chi ph√≠ d·ª± ki·∫øn (%)</p>
                </div>
            </div>
        </section>

        <!-- SECTION 3: Timeline of Tasks (Organize/Flow) -->
        <section class="bg-white rounded-xl shadow-md p-8 relative overflow-hidden">
            <h2 class="text-3xl font-center text-center font-bold text-gray-800 mb-12">D√≤ng Th·ªùi Gian: 1 NƒÉm Chu·∫©n B·ªã</h2>
            
            <div class="relative">
                <!-- Vertical Line -->
                <div class="hidden md:block timeline-line"></div>

                <!-- Timeline Item 1: 12-9 Months -->
                <div class="flex flex-col md:flex-row justify-between items-center w-full mb-8">
                    <div class="order-1 w-full md:w-5/12 md:text-right px-4">
                        <h3 class="text-xl font-bold text-pink-600">12 - 9 Th√°ng Tr∆∞·ªõc</h3>
                        <h4 class="font-semibold text-gray-700">Kh·ªüi ƒê·ªông & Ng√¢n S√°ch</h4>
                        <p class="text-gray-600 text-sm mt-2">X√°c ƒë·ªãnh ng√†y c∆∞·ªõi (xem ng√†y), l·∫≠p ng√¢n s√°ch t·ªïng th·ªÉ, l√™n danh s√°ch kh√°ch m·ªùi s∆° b·ªô (ƒë·ªÉ ch·ªçn s·∫£nh ti·ªác ph√π h·ª£p), ƒë·∫∑t c·ªçc nh√† h√†ng.</p>
                    </div>
                    <div class="z-20 flex items-center order-1 bg-yellow-400 shadow-xl w-12 h-12 rounded-full justify-center text-white text-xl font-bold border-4 border-white">
                        üìÖ
                    </div>
                    <div class="order-1 w-full md:w-5/12 px-4 mt-4 md:mt-0">
                        <ul class="text-sm text-gray-600 list-disc list-inside">
                            <li>H·ªçp m·∫∑t hai gia ƒë√¨nh</li>
                            <li>D·ª± tr√π ng√¢n s√°ch</li>
                            <li>T√¨m ki·∫øm ƒë·ªãa ƒëi·ªÉm (Venue)</li>
                        </ul>
                    </div>
                </div>

                <!-- Timeline Item 2: 6-9 Months -->
                <div class="flex flex-col md:flex-row justify-between items-center w-full mb-8">
                    <div class="order-1 w-full md:w-5/12 md:text-right px-4 hidden md:block">
                         <ul class="text-sm text-gray-600 list-disc list-inside dir-rtl">
                            <li>Book Studio ch·ª•p ·∫£nh</li>
                            <li>Ch·ªçn v√°y c∆∞·ªõi, vest</li>
                            <li>Book Make-up Artist</li>
                        </ul>
                    </div>
                    <div class="z-20 flex items-center order-1 bg-purple-500 shadow-xl w-12 h-12 rounded-full justify-center text-white text-xl font-bold border-4 border-white">
                        üì∑
                    </div>
                    <div class="order-1 w-full md:w-5/12 px-4 mt-4 md:mt-0">
                        <h3 class="text-xl font-bold text-pink-600">9 - 6 Th√°ng Tr∆∞·ªõc</h3>
                        <h4 class="font-semibold text-gray-700">H√¨nh ·∫¢nh & Trang Ph·ª•c</h4>
                        <p class="text-gray-600 text-sm mt-2">Th·ªùi ƒëi·ªÉm v√†ng ƒë·ªÉ ch·ª•p Pre-wedding (tr√°nh m√πa m∆∞a). Ch·ªçn ƒë∆°n v·ªã trang tr√≠ (Decor) v√† ƒë·∫∑t may/thu√™ trang ph·ª•c c∆∞·ªõi.</p>
                        <!-- Mobile List shown here -->
                        <ul class="md:hidden text-sm text-gray-600 list-disc list-inside mt-2">
                            <li>Book Studio ch·ª•p ·∫£nh</li>
                            <li>Ch·ªçn v√°y c∆∞·ªõi, vest</li>
                            <li>Book Make-up Artist</li>
                        </ul>
                    </div>
                </div>

                <!-- Timeline Item 3: 3-6 Months -->
                <div class="flex flex-col md:flex-row justify-between items-center w-full mb-8">
                    <div class="order-1 w-full md:w-5/12 md:text-right px-4">
                        <h3 class="text-xl font-bold text-pink-600">6 - 3 Th√°ng Tr∆∞·ªõc</h3>
                        <h4 class="font-semibold text-gray-700">Chi Ti·∫øt & Nh·∫´n C∆∞·ªõi</h4>
                        <p class="text-gray-600 text-sm mt-2">Mua nh·∫´n c∆∞·ªõi, in thi·ªáp c∆∞·ªõi, ch·ªët th·ª±c ƒë∆°n nh√† h√†ng, chu·∫©n b·ªã tr√°p ƒÉn h·ªèi, li√™n h·ªá MC v√† ban nh·∫°c.</p>
                    </div>
                    <div class="z-20 flex items-center order-1 bg-pink-500 shadow-xl w-12 h-12 rounded-full justify-center text-white text-xl font-bold border-4 border-white">
                        üíç
                    </div>
                    <div class="order-1 w-full md:w-5/12 px-4 mt-4 md:mt-0">
                        <ul class="text-sm text-gray-600 list-disc list-inside">
                            <li>Mua nh·∫´n c∆∞·ªõi</li>
                            <li>ƒê·∫∑t in thi·ªáp</li>
                            <li>L√™n k·ªãch b·∫£n ch∆∞∆°ng tr√¨nh</li>
                        </ul>
                    </div>
                </div>

                 <!-- Timeline Item 4: 2 Months - 1 Week -->
                 <div class="flex flex-col md:flex-row justify-between items-center w-full mb-8">
                    <div class="order-1 w-full md:w-5/12 md:text-right px-4 hidden md:block">
                        <ul class="text-sm text-gray-600 list-disc list-inside dir-rtl">
                            <li>G·ª≠i thi·ªáp m·ªùi</li>
                            <li>Th·ª≠ v√°y l·∫ßn cu·ªëi</li>
                            <li>ChƒÉm s√≥c da/spa</li>
                        </ul>
                    </div>
                    <div class="z-20 flex items-center order-1 bg-red-600 shadow-xl w-12 h-12 rounded-full justify-center text-white text-xl font-bold border-4 border-white">
                        üíå
                    </div>
                    <div class="order-1 w-full md:w-5/12 px-4 mt-4 md:mt-0">
                        <h3 class="text-xl font-bold text-pink-600">2 Th√°ng - 1 Tu·∫ßn</h3>
                        <h4 class="font-semibold text-gray-700">N∆∞·ªõc R√∫t</h4>
                        <p class="text-gray-600 text-sm mt-2">G·ª≠i thi·ªáp m·ªùi (tr∆∞·ªõc 2-3 tu·∫ßn), x√°c nh·∫≠n s·ªë l∆∞·ª£ng kh√°ch l·∫ßn cu·ªëi v·ªõi nh√† h√†ng, chu·∫©n b·ªã ti·ªÅn m·∫∑t thanh to√°n c√°c kho·∫£n c√≤n l·∫°i.</p>
                         <!-- Mobile List shown here -->
                         <ul class="md:hidden text-sm text-gray-600 list-disc list-inside mt-2">
                            <li>G·ª≠i thi·ªáp m·ªùi</li>
                            <li>Th·ª≠ v√°y l·∫ßn cu·ªëi</li>
                            <li>ChƒÉm s√≥c da/spa</li>
                        </ul>
                    </div>
                </div>

            </div>
        </section>

        <!-- SECTION 4: Detailed Costs (Bar Chart) -->
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div class="bg-white rounded-xl shadow-md p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Chi Ph√≠ Chi Ti·∫øt C√°c H·∫°ng M·ª•c</h2>
                <p class="text-gray-600 mb-6 text-sm">
                    Ngo√†i chi ph√≠ b√†n ti·ªác (bi·∫øn ƒë·ªông theo s·ªë kh√°ch), ƒë√¢y l√† c√°c kho·∫£n chi ph√≠ d·ªãch v·ª• trung b√¨nh (C·ªë ƒë·ªãnh) m√† c√°c c·∫∑p ƒë√¥i c·∫ßn chu·∫©n b·ªã. L∆∞u √Ω: <strong>Trang s·ª©c & C·ªßa h·ªìi m√¥n</strong> kh√¥ng ƒë∆∞·ª£c t√≠nh v√†o chi ph√≠ t·ªï ch·ª©c v√¨ ƒë√¢y l√† t√†i s·∫£n t√≠ch l≈©y.
                </p>
                <div class="chart-container">
                    <canvas id="detailedCostChart"></canvas>
                </div>
            </div>

            <!-- SECTION 5: Regional Comparison (Grouped Bar) -->
             <div class="bg-white rounded-xl shadow-md p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Kh√°c Bi·ªát B·∫Øc - Nam</h2>
                <p class="text-gray-600 mb-6 text-sm">
                    Phong t·ª•c c∆∞·ªõi h·ªèi t·∫°i Mi·ªÅn B·∫Øc (H√† N·ªôi) v√† Mi·ªÅn Nam (TP.HCM) c√≥ s·ª± ch√™nh l·ªách v·ªÅ chi ph√≠ ·ªü m·ªôt s·ªë h·∫°ng m·ª•c nh·∫•t ƒë·ªãnh, ƒë·∫∑c bi·ªát l√† Tr√°p ƒÉn h·ªèi v√† Phong c√°ch ti·ªác.
                </p>
                <div class="chart-container">
                    <canvas id="regionalChart"></canvas>
                </div>
            </div>
        </section>

        <!-- SECTION 6: Cash Flow Management (Line Chart) -->
        <section class="bg-white rounded-xl shadow-md p-8 border-l-8 border-yellow-500">
            <div class="mb-6">
                <h2 class="text-3xl font-bold text-gray-800">D√≤ng Ti·ªÅn & L·ªãch Thanh To√°n</h2>
                <p class="text-gray-600 mt-2">
                    Nhi·ªÅu c·∫∑p ƒë√¥i l·∫ßm t∆∞·ªüng c·∫ßn c√≥ s·∫µn 100% s·ªë ti·ªÅn ngay t·ª´ ƒë·∫ßu. Th·ª±c t·∫ø, chi ph√≠ ƒë∆∞·ª£c chia nh·ªè v√† thanh to√°n theo giai ƒëo·∫°n. Bi·ªÉu ƒë·ªì d∆∞·ªõi ƒë√¢y minh h·ªça th·ªùi ƒëi·ªÉm b·∫°n c·∫ßn chi ti·ªÅn (Cash Out) so v·ªõi t·ªïng ng√¢n s√°ch.
                </p>
            </div>
            <div class="chart-container w-full max-w-4xl">
                <canvas id="cashFlowChart"></canvas>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6 text-center text-sm">
                <div class="bg-pink-50 p-3 rounded">
                    <strong>Giai ƒëo·∫°n 1 (12-6 th√°ng):</strong> ƒê·∫∑t c·ªçc ƒë·ªãa ƒëi·ªÉm, Studio (Kho·∫£ng 20-30%).
                </div>
                <div class="bg-purple-50 p-3 rounded">
                    <strong>Giai ƒëo·∫°n 2 (3-1 th√°ng):</strong> Mua nh·∫´n, trang s·ª©c, t·∫°m ·ª©ng d·ªãch v·ª• (Kho·∫£ng 20%).
                </div>
                <div class="bg-yellow-50 p-3 rounded">
                    <strong>Giai ƒëo·∫°n 3 (Ng√†y c∆∞·ªõi):</strong> Thanh to√°n n·ªët ti·ªác c∆∞·ªõi b·∫±ng ti·ªÅn m·ª´ng (Kho·∫£ng 50%).
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white py-8 text-center mt-12">
        <p class="text-gray-400 text-sm">Infographic ƒë∆∞·ª£c thi·∫øt k·∫ø d·ª±a tr√™n d·ªØ li·ªáu th·ªã tr∆∞·ªùng c∆∞·ªõi h·ªèi Vi·ªát Nam nƒÉm 2024-2025.</p>
        <p class="text-gray-500 text-xs mt-2">L∆∞u √Ω: Chi ph√≠ th·ª±c t·∫ø c√≥ th·ªÉ thay ƒë·ªïi t√πy thu·ªôc v√†o quy m√¥ v√† nhu c·∫ßu c·ª• th·ªÉ c·ªßa t·ª´ng gia ƒë√¨nh.</p>
    </footer>

    <!-- SCRIPT SECTION -->
    <script>
        // --- UTILITY FUNCTIONS ---
        
        // Function to split long labels into arrays for Chart.js
        function splitLabel(str, maxLen = 16) {
            if (str.length <= maxLen) return str;
            const words = str.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if (currentLine.length + 1 + words[i].length <= maxLen) {
                    currentLine += ' ' + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        // Shared Tooltip Configuration
        const sharedTooltipConfig = {
            callbacks: {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                        return label.join(' ');
                    } else {
                        return label;
                    }
                }
            }
        };

        // --- CHART 1: Budget Breakdown (Donut) ---
        const ctxDonut = document.getElementById('budgetDonutChart').getContext('2d');
        const budgetData = {
            // Processing labels
            labels: [
                'Ti·ªác C∆∞·ªõi (Nh√† h√†ng)', 
                'Trang Tr√≠ & Decor', 
                'Trang Ph·ª•c & Makeup', 
                'Quay Phim & Ch·ª•p ·∫¢nh', 
                'Thi·ªáp, Qu√† & Kh√°c'
            ].map(l => splitLabel(l)),
            datasets: [{
                data: [55, 15, 12, 10, 8], // Percentages
                backgroundColor: [
                    '#E91E63', // Pink (Banquet - Main)
                    '#9C27B0', // Purple (Decor)
                    '#FFC107', // Amber (Attire)
                    '#2196F3', // Blue (Photo)
                    '#9E9E9E'  // Grey (Others)
                ],
                borderWidth: 0,
                hoverOffset: 10
            }]
        };

        new Chart(ctxDonut, {
            type: 'doughnut',
            data: budgetData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom', labels: { boxWidth: 12, padding: 15 } },
                    tooltip: sharedTooltipConfig,
                    title: {
                        display: true,
                        text: 'C∆° C·∫•u Chi Ph√≠ (%)',
                        font: { size: 16 }
                    }
                }
            }
        });

        // --- CHART 2: Detailed Costs (Horizontal Bar) ---
        const ctxBar = document.getElementById('detailedCostChart').getContext('2d');
        // Values in Million VND
        const detailedCostsRaw = {
            labels: [
                'Album Pre-wedding',
                'Quay ph√≥ng s·ª± c∆∞·ªõi',
                'V√°y c∆∞·ªõi & Vest',
                'Makeup (2 bu·ªïi)',
                'Trang tr√≠ gia ti√™n',
                'Trang tr√≠ nh√† h√†ng',
                'Nh·∫´n c∆∞·ªõi (C·∫∑p)',
                'Thi·ªáp c∆∞·ªõi (300 c√°i)',
                'MC & Ban nh·∫°c'
            ],
            data: [15, 12, 20, 8, 15, 30, 10, 3, 5] 
        };

        new Chart(ctxBar, {
            type: 'bar',
            data: {
                labels: detailedCostsRaw.labels.map(l => splitLabel(l)),
                datasets: [{
                    label: 'Chi ph√≠ trung b√¨nh (Tri·ªáu VND)',
                    data: detailedCostsRaw.data,
                    backgroundColor: '#E91E63',
                    borderRadius: 4,
                }]
            },
            options: {
                indexAxis: 'y', // Horizontal bar
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        beginAtZero: true,
                        grid: { display: false }
                    },
                    y: {
                        grid: { display: false }
                    }
                },
                plugins: {
                    legend: { display: false },
                    tooltip: sharedTooltipConfig
                }
            }
        });

        // --- CHART 3: Regional Comparison (Grouped Bar) ---
        const ctxRegion = document.getElementById('regionalChart').getContext('2d');
        new Chart(ctxRegion, {
            type: 'bar',
            data: {
                labels: ['Tr√°p ƒÇn H·ªèi', 'Trang Tr√≠', 'Ti·ªác C∆∞·ªõi/B√†n'].map(l => splitLabel(l)),
                datasets: [
                    {
                        label: 'H√† N·ªôi (Mi·ªÅn B·∫Øc)',
                        data: [15, 25, 5.5], // Tr√°p cao h∆°n, Ti·ªác t√≠nh theo m√¢m 6 ho·∫∑c 10
                        backgroundColor: '#9C27B0'
                    },
                    {
                        label: 'TP.HCM (Mi·ªÅn Nam)',
                        data: [8, 20, 4.5], // Tr√°p ƒë∆°n gi·∫£n h∆°n, Ti·ªác t√≠nh theo b√†n 10
                        backgroundColor: '#FFC107'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: { display: true, text: 'Tri·ªáu VND' }
                    }
                },
                plugins: {
                    tooltip: sharedTooltipConfig,
                    legend: { position: 'bottom' }
                }
            }
        });

        // --- CHART 4: Cash Flow (Line Chart) ---
        const ctxLine = document.getElementById('cashFlowChart').getContext('2d');
        new Chart(ctxLine, {
            type: 'line',
            data: {
                labels: ['12 Th√°ng', '9 Th√°ng', '6 Th√°ng', '3 Th√°ng', '1 Th√°ng', 'Ng√†y C∆∞·ªõi', 'Sau C∆∞·ªõi'],
                datasets: [{
                    label: 'T√≠ch l≈©y chi tr·∫£ (%)',
                    data: [5, 15, 25, 40, 50, 60, 100], // Cumulative spending
                    borderColor: '#2196F3',
                    backgroundColor: 'rgba(33, 150, 243, 0.2)',
                    fill: true,
                    tension: 0.4,
                    pointBackgroundColor: '#E91E63',
                    pointRadius: 5
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        title: { display: true, text: '% T·ªïng Ng√¢n S√°ch ƒê√£ Chi' }
                    },
                    x: {
                        grid: { display: false }
                    }
                },
                plugins: {
                    legend: { display: false },
                    tooltip: sharedTooltipConfig,
                    annotation: {
                        // Chart.js annotations could go here, but omitted to keep lightweight
                    }
                }
            }
        });

    </script>
</body>
</html>
